{% load static %}
{% load i18n %}
{% include 'header.html' %}
<div class="main_block">
    <div class="container">
        <div class="main_b">
            <div class="main_left">


            {% get_current_language as lang %}

            {% if lang == 'kk' %}
<p class="title_main_block">
                   PR ЖӘНЕ МЕДИА САЛАСЫНЫҢ КӘСІБИ МАМАНДАР АССОЦИАЦИЯСЫ

                </p>
                <p class="description_main_block">
                    PR, медиа және коммуникация саласындағы мамандардың кәсіби дамуына қолдау көрсету, кәсіби этика мен сапа стандарттарын ілгерілету, сондай-ақ медиакоммуникациялық ортаны дамыту және қоғамның медиасауаттылығын арттыруға бағытталған бастамаларды жүзеге асыру.

                </p>
                <p class="inass_link">
                    <a href="#join">Ассоциацияға қосылу</a>
                </p>
            {% elif lang == 'ru' %}
            <p class="title_main_block">
                    Ассоциация 
профессионалов 
PR и медиа
                </p>
                <p class="description_main_block">
                    Содействие профессиональному развитию 
специалистов в сфере PR, медиа и коммуникаций, 
продвижение стандартов профессиональной этики 
и качества, а также реализация инициатив, 
направленных на развитие медиакоммуникационной 
среды и повышение медиаграмотности общества.
                </p>
                <p class="inass_link">
                    <a href="#join">Вступить в Ассоциацию</a>
                </p>
            {% endif %}

                
            </div>
            <div class="main_right">
                
                {% if latest_news %}
                <div id="newsCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
                  <div class="carousel-inner">
                    {% for item in latest_news %}
                      <div class="carousel-item {% if forloop.first %}active{% endif %}">
                        <a href="{% url 'news_detail' item.pk %}" class="text-decoration-none text-dark">
                          <div class="card border-0">
                            {% if item.image %}
                              <img src="{{ item.image.url }}" class="card-img-top" alt="{{ item.title }}">
                            {% endif %}
                            <div class="card-body">
                              <h5 class="card-title">{{ item.title }}</h5>
                              <p class="card-text">{{ item.description|truncatewords:20 }}</p>
                              <small class="text-muted">
                                {{ item.date|date:"d.m.Y" }}
                              </small>
                            </div>
                          </div>
                        </a>
                      </div>
                    {% endfor %}
                  </div>
                  <div class="navi_news_main">

                  <button class="carousel-control-prev" type="button" data-bs-target="#newsCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  </button>
                    <!-- Dots (индикаторы) -->
  <div class="carousel-indicators">
    {% for item in latest_news %}
      <button type="button"
              data-bs-target="#newsCarousel"
              data-bs-slide-to="{{ forloop.counter0 }}"
              class="{% if forloop.first %}active{% endif %}"
              {% if forloop.first %}aria-current="true"{% endif %}
              aria-label="Слайд {{ forloop.counter }}">
      </button>
    {% endfor %}
  </div>
                  <button class="carousel-control-next" type="button" data-bs-target="#newsCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  </button>
                </div>
                  </div>
                {% endif %}
                
            </div>
        </div>
    </div>
    <a href="#about" class="next_block">
        <img src="{% static 'img/a.png' %}" alt="">
      </a>
</div>



            {% get_current_language as lang %}

            {% if lang == 'kk' %}

<div class="about" id="about">`
    <div class="container">
        <div class="text_about">
            <p class="title_about">
                БІЗ ТУРАЛЫ
            </p>
            <p class="description_about">
                PR, медиа және коммуникация саласындағы мамандардың кәсіби дамуына қолдау көрсету, кәсіби этика мен сапа стандарттарын ілгерілету, сондай-ақ медиакоммуникациялық ортаны дамыту мен қоғамның медиасауаттылығын арттыруға бағытталған бастамаларды жүзеге асыру.
            </p>
        </div>

    <div class="about_cart">
        <div class="cart_ab">
            <div class="icon_about">
                <img src="{% static 'img/about1ldpi.svg' %}" alt="">
            </div>
            <p class="title_cart_ab">
                Кәсіби даму және тәжірибе бөлісу

            </p>
            <p class="description_cat_ab">
               PR, медиа және коммуникация саласындағы мамандардың кәсіби өсуіне, салааралық өзара ықпалдастығына және озық тәжірибе алмасуына қолайлы жағдай жасау
            </p>
        </div>
        <div class="cart_ab">
            <div class="icon_about">
                <img src="{% static 'img/about2ldpi.svg' %}" alt="">
            </div>
            <p class="title_cart_ab">
                Білім беру және танымдық бастамалар

            </p>
            <p class="description_cat_ab">
                Форумдар, конференциялар, тренингтер мен өзге де іс-шараларды ұйымдастыру, сондай-ақ медиасауаттылықты арттыру және азаматтық диалогты дамыту.

            </p>
        </div>
        <div class="cart_ab">
            <div class="icon_about">
                <img src="{% static 'img/about3ldpi.svg' %}" alt="">
            </div>
            <p class="title_cart_ab">
                Медиаортаны дамыту және сапа стандарттарын жетілдіру

            </p>
            <p class="description_cat_ab">
                Медиакоммуникацияларды дамытуға бағытталған жобаларды жүзеге асыру, сондай-ақ кәсіби этика мен жауапкершілік стандарттарын қалыптастыру.

            </p>
        </div>
        <div class="cart_ab">
            <div class="icon_about">
                <img src="{% static 'img/about4ldpi.svg' %}" alt="">
            </div>
            <p class="title_cart_ab">
                Серіктестік және мүдделерді ұсыну мен қорғау

            </p>
            <p class="description_cat_ab">
                Мемлекеттік органдармен, үкіметтік емес ұйымдармен, бизнес және халықаралық құрылымдармен ынтымақтастық орнату, сондай-ақ Ассоциация мүшелерінің мүдделерін барлық деңгейде қорғау.

            </p>
        </div>
    </div>
    <div class="dock_url">
        <p class="inass_link">
            <a href="{% static 'document/ustav_kz_1.pdf' %}" target="_blank">Жарғыны жүктеу</a>
        </p>
    </div>
    </div>
</div>

            {% elif lang == 'ru' %}
            
<div class="about" id="about">`
    <div class="container">
        <div class="text_about">
            <p class="title_about">
                О нас
            </p>
            <p class="description_about">
                Содействие профессиональному развитию специалистов в сфере PR, медиа и коммуникаций, продвижение 
                стандартов профессиональной этики и качества, а также реализация инициатив, направленных на развитие 
                медиакоммуникационной среды и повышение медиаграмотности общества.
            </p>
        </div>

    <div class="about_cart">
        <div class="cart_ab">
            <div class="icon_about">
                <img src="{% static 'img/about1ldpi.svg' %}" alt="">
            </div>
            <p class="title_cart_ab">
                Профессиональное 
                развитие и обмен 
                опытом
            </p>
            <p class="description_cat_ab">
                Создание условий для роста, 
                отраслевого взаимодействия 
                и обмена лучшими практиками 
                среди специалистов в сфере 
                PR, медиа и коммуникаций.
            </p>
        </div>
        <div class="cart_ab">
            <div class="icon_about">
                <img src="{% static 'img/about2ldpi.svg' %}" alt="">
            </div>
            <p class="title_cart_ab">
                Образовательные 
                и просветительские 
                инициативы
            </p>
            <p class="description_cat_ab">
                Организация форумов, 
                конференций, тренингов 
                и мероприятий, а также 
                продвижение медиаграмотности 
                и гражданского диалога.
            </p>
        </div>
        <div class="cart_ab">
            <div class="icon_about">
                <img src="{% static 'img/about3ldpi.svg' %}" alt="">
            </div>
            <p class="title_cart_ab">
                Развитие медиасреды 
                и стандартов 
                качества
            </p>
            <p class="description_cat_ab">
                Реализация проектов 
                по улучшению медиа-
                коммуникаций, формирование 
                стандартов профессиональной 
                этики и ответственности.
            </p>
        </div>
        <div class="cart_ab">
            <div class="icon_about">
                <img src="{% static 'img/about4ldpi.svg' %}" alt="">
            </div>
            <p class="title_cart_ab">
                Партнёрство 
                и представительство 
                интересов
            </p>
            <p class="description_cat_ab">
                Сотрудничество с госорганами, 
                НПО, бизнесом и между-
                народными структурами, 
                защита интересов членов 
                Ассоциации на всех уровнях.
            </p>
        </div>
    </div>
    <div class="dock_url">
        <p class="inass_link">
            <a href="{% static 'document/ustav_ru.pdf' %}" target="_blank">Скачать устав</a>
        </p>
    </div>
    </div>
</div>

            {% endif %}


<!-- Карусель -->
<div class="blcok_news" id="news">
  <div class="container">
    
            {% get_current_language as lang %}

            {% if lang == 'kk' %}

    <p class="title_about">ЖАҢАЛЫҚТАР</p>
            {% elif lang == 'ru' %}
            
    <p class="title_about">Новости</p>
            {% endif %}
    <div class="swiper mySwiper">
      <div class="swiper-wrapper">
        {% for item in latest_news %}
          <div class="swiper-slide">
            <div class="card h-100 shadow-sm">
              {% if item.image %}
                <img src="{{ item.image.url }}" class="card-img-top" alt="{{ item.title }}">
              {% endif %}
              <div class="card-body">
                <h5 class="card-title">
                  <a href="{% url 'news_detail' item.pk %}" class="text-decoration-none text-dark">
                    {{ item.title }}
                  </a>
                </h5>
                <p class="card-text text-muted small mb-2">{{ item.date|date:"d.m.Y" }}</p>
                <p class="card-text">{{ item.description|truncatewords:20 }}</p>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>

      <!-- Навигация -->
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
    </div>

    <div class="all_news">
      <p class="inass_link">
        
            {% get_current_language as lang %}

            {% if lang == 'kk' %}
        <a href="/news">Барлық жаңалықтар</a>

            {% elif lang == 'ru' %}
        <a href="/news">Все новости</a>
            
            {% endif %}
      </p>
    </div>
  </div>
</div>

<!-- Инициализация Swiper -->
<script>
  const swiper = new Swiper(".mySwiper", {
    slidesPerView: 1,
    spaceBetween: 20,
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev"
    },
    breakpoints: {
      768: {
        slidesPerView: 3
      }
    }
  });
</script>



            {% get_current_language as lang %}

            {% if lang == 'kk' %}

<div class="block_in_a">
    <div class="container">
        <div class="vstupit">
            <div class="vstupit_left">
                <p class="title_vstup">
                    Кәсіби қауымдастықтың бір бөлшегіне айналыңыз

                </p>
                <p class="text_vstup">
                    эксклюзивті материалдарға қол жеткізіңіз

                </p>
            </div>
            <div class="vstupit_right">
                <a href="#join">Ассоциацияға қосылу</a>
            </div>
        </div>
    </div>
</div>
            {% elif lang == 'ru' %}
            
<div class="block_in_a">
    <div class="container">
        <div class="vstupit">
            <div class="vstupit_left">
                <p class="title_vstup">
                    Станьте частью
                    профессионального сообщества
                </p>
                <p class="text_vstup">
                    и получите доступ к эксклюзивным материалам
                </p>
            </div>
            <div class="vstupit_right">
                <a href="#join">Вступить в Ассоциацию</a>
            </div>
        </div>
    </div>
</div>
            {% endif %}


<!-- Блок Учредители -->
            {% get_current_language as lang %}

            {% if lang == 'kk' %}
<section class="founders-section" id="founders">
    <div class="container">
        <p class="title_about">
           АССОЦИАЦИЯНЫҢ НЕГІЗІН ҚАЛАУШЫЛАР
        </p>
        <p class="description_about">
            PR, медиа және коммуникация саласындағы жетекші мамандар, Ассоциацияның дамуына зор үлес қосып, кәсіби қоғамдастықтың негізін қалаған тұлғалар.
        </p>
      
      <!-- Список учредителей -->
      <div class="founders-grid">
        {% for founder in founders %}
          <div class="founder-card">
            {% if founder.photo %}
              <img src="{{ founder.photo.url }}" alt="{{ founder.full_name }}" class="founder-photo">
            {% else %}
              <div class="founder-photo-placeholder"></div>
            {% endif %}
            <h4 class="founder-name">{{ founder.full_name }}</h4>
            <p class="founder-position">{{ founder.position }}</p>
            <p class="founder-description">{{ founder.about|truncatewords:20 }}</p>
          </div>
        {% empty %}
          <p>Негізін қалаушылар табылмады.</p>
        {% endfor %}
      </div>
  </section>
  
            {% elif lang == 'ru' %}
            <section class="founders-section" id="founders">
    <div class="container">
        <p class="title_about">
            УЧРЕДИТЕЛИ АССОЦИАЦИИ
        </p>
        <p class="description_about">
            Ведущие специалисты в сфере PR, медиа и коммуникаций, внесшие значительный вклад в развитие Ассоциации и заложившие основы профессионального сообщества.
        </p>
      
      <!-- Список учредителей -->
      <div class="founders-grid">
        {% for founder in founders %}
          <div class="founder-card">
            {% if founder.photo %}
              <img src="{{ founder.photo.url }}" alt="{{ founder.full_name }}" class="founder-photo">
            {% else %}
              <div class="founder-photo-placeholder"></div>
            {% endif %}
            <h4 class="founder-name">{{ founder.full_name }}</h4>
            <p class="founder-position">{{ founder.position }}</p>
            <p class="founder-description">{{ founder.about|truncatewords:20 }}</p>
          </div>
        {% empty %}
          <p>Учредители не найдены.</p>
        {% endfor %}
      </div>
  </section>
  
            {% endif %}



            
            {% get_current_language as lang %}

            {% if lang == 'kk' %}
<section class="specialists-section" id="spec">
    <div class="container">
        <p class="title_about">
           МАМАНДАР МЕН АГЕНТТІКТЕР БАЗАСЫ
        </p>
        <p class="description_about">
            Кәсіби даму, тәжірибе алмасу және саланы бірлесіп дамыту мақсатында бірігіп отырған PR, медиа және коммуникация саласындағы мамандар мен ұйымдар.

        </p>
      <!-- Форма фильтрации -->
      <form id="filter-form" method="get">
        <select name="category">
          <option value="">Санат</option>
          {% for c in specialist_categories %}
            <option value="{{ c }}" {% if selected.category == c %}selected{% endif %}>{{ c }}</option>
          {% endfor %}
        </select>
  
        <select name="city">
          <option value="">Қала</option>
          {% for c in cities %}
            <option value="{{ c }}" {% if selected.city == c %}selected{% endif %}>{{ c }}</option>
          {% endfor %}
        </select>
  
        <select name="specialization">
          <option value="">Мамандану</option>
          {% for s in specializations %}
            <option value="{{ s }}" {% if selected.specialization == s %}selected{% endif %}>{{ s }}</option>
          {% endfor %}
        </select>
  
        <select name="member">
          <option value="">Ассоциация мүшелігі.</option>
          <option value="yes" {% if selected.member == 'yes' %}selected{% endif %}>Да</option>
          <option value="no" {% if selected.member == 'no' %}selected{% endif %}>Нет</option>
        </select>
  
  
        <a href="{% url 'index' %}" class="reset-button">
            Қалпына келтіру
          </a>
      </form>
  
      <!-- Список специалистов -->
      <div id="specialist-container">
        {% include 'partials/_specialist_list.html' %}
      </div>
      <div class="dock_url">
        <p class="inass_link">
            <a href="{% url 'specialist_list' %}">Толық тізім</a>
        </p>
    </div>
  </section>
  
            {% elif lang == 'ru' %}
            <section class="specialists-section" id="spec">
    <div class="container">
        <p class="title_about">
            База специалистов и агентств
        </p>
        <p class="description_about">
            Специалисты и организации в сфере PR, медиа и коммуникаций, объединённые для профессионального роста, 
            обмена опытом и совместного развития отрасли.
        </p>
      <!-- Форма фильтрации -->
      <form id="filter-form" method="get">
        <select name="category">
          <option value="">Категория</option>
          {% for c in specialist_categories %}
            <option value="{{ c }}" {% if selected.category == c %}selected{% endif %}>{{ c }}</option>
          {% endfor %}
        </select>
  
        <select name="city">
          <option value="">Город</option>
          {% for c in cities %}
            <option value="{{ c }}" {% if selected.city == c %}selected{% endif %}>{{ c }}</option>
          {% endfor %}
        </select>
  
        <select name="specialization">
          <option value="">Специализация</option>
          {% for s in specializations %}
            <option value="{{ s }}" {% if selected.specialization == s %}selected{% endif %}>{{ s }}</option>
          {% endfor %}
        </select>
  
        <select name="member">
          <option value="">Участие в Ассоциации</option>
          <option value="yes" {% if selected.member == 'yes' %}selected{% endif %}>Да</option>
          <option value="no" {% if selected.member == 'no' %}selected{% endif %}>Нет</option>
        </select>
  
  
        <a href="{% url 'index' %}" class="reset-button">
            Сбросить фильтр
          </a>
      </form>
  
      <!-- Список специалистов -->
      <div id="specialist-container">
        {% include 'partials/_specialist_list.html' %}
      </div>
      <div class="dock_url">
        <p class="inass_link">
            <a href="{% url 'specialist_list' %}">Весь список</a>
        </p>
    </div>
  </section>
  
            {% endif %}



            {% get_current_language as lang %}

            {% if lang == 'kk' %}
<div class="vstuplenie" id="join">
    <div class="container">
        <p class="title_about">
            АССОЦИАЦИЯҒА ҚОСЫЛУ
        </p>
        <div class="block_vstuplenie">
          
          <div id="applicationFormWrapper">
            
        <p class="description_about" >
            Осы сауалнаманы толтыра отырып, сіз өз деректеріңіздің жиналуына және өңделуіне келісім бересіз. Ассоциация басшылығы сіздің қауымдастыққа мүшелікке қабылдануыңызды мақұлдау немесе кері қайтару құқығына ие.

        </p>
<form id="applicationForm" method="post" enctype="multipart/form-data">
  {% csrf_token %}

  <p class="title_form">Жеке мәліметтер</p>
  <div class="form_vstup">
    <label><span>{{ form.last_name.label }} <span style="color:red">*</span></span>{{ form.last_name }}</label>
    <label><span>{{ form.first_name.label }} <span style="color:red">*</span></span>{{ form.first_name }}</label>
    <label><span>{{ form.middle_name.label }}</span>{{ form.middle_name }}</label>
    <label><span>{{ form.birth_date.label }} <span style="color:red">*</span></span>{{ form.birth_date }}</label>
    <label><span>{{ form.citizenship.label }} <span style="color:red">*</span></span>{{ form.citizenship }}</label>
    <label><span>{{ form.city.label }} <span style="color:red">*</span></span>{{ form.city }}</label>
  </div>

  <p class="title_form">Байланыс ақпараты</p>
  <div class="form_vstup">
    <label><span>{{ form.phone.label }} <span style="color:red">*</span></span>{{ form.phone }}</label>
    <label><span>{{ form.additional_phone.label }}</span>{{ form.additional_phone }}</label>
    <label><span>{{ form.email.label }} <span style="color:red">*</span></span>{{ form.email }}</label>
    <label><span>{{ form.social_links.label }} <span style="color:red">*</span></span>{{ form.social_links }}</label>
  </div>

  <p class="title_form">Білімі</p>
  <div class="form_vstup">
    <label><span>{{ form.university.label }} <span style="color:red">*</span></span>{{ form.university }}</label>
    <label><span>{{ form.faculty.label }} <span style="color:red">*</span></span>{{ form.faculty }}</label>
    <label><span>{{ form.study_years.label }} <span style="color:red">*</span></span>{{ form.study_years }}</label>
    <label><span>{{ form.degree.label }} <span style="color:red">*</span></span>{{ form.degree }}</label>
  </div>

  <p class="title_form">Кәсіби қызмет</p>
  <div class="form_vstup">
    <label><span>{{ form.job_place.label }} <span style="color:red">*</span></span>{{ form.job_place }}</label>
    <label><span>{{ form.job_title.label }} <span style="color:red">*</span></span>{{ form.job_title }}</label>
    <label><span>{{ form.job_region.label }} <span style="color:red">*</span></span>{{ form.job_region }}</label>
    <label><span>{{ form.job_description.label }} <span style="color:red">*</span></span>{{ form.job_description }}</label>
    <label><span>{{ form.experience_years.label }} <span style="color:red">*</span></span>{{ form.experience_years }}</label>
    <label><span>{{ form.professional_description.label }} <span style="color:red">*</span></span>{{ form.professional_description }}</label>
  </div>

  <p class="title_form">Жетістіктер</p>
  <div class="form_vstup">
    <label><span>{{ form.skills.label }}</span>{{ form.skills }}</label>
    <label><span>{{ form.awards.label }}</span>{{ form.awards }}</label>
    <label><span>{{ form.publications.label }}</span>{{ form.publications }}</label>
  </div>

  <p class="title_form">Мүшелік және мотивация</p>
  <div class="form_vstup">
    <label><span>{{ form.motivation.label }} <span style="color:red">*</span></span>{{ form.motivation }}</label>
    <label><span>{{ form.recommender.label }}</span>{{ form.recommender }}</label>
  </div>

  <div><br>
    <span>{{ form.interests.label }}</span>
    {{ form.interests }}
  </div>

<p class="title_form">Файлдар</p>
  <div class="file_forms">
    <div class="form-group">
      <label class="custom-file-upload">
        <span>Резюме / CV жүктеу</span>
        {{ form.resume }}
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M14 2V8H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M16 13H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M16 17H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M10 9H9H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </label>
      <span id="filename_resume">Файл таңдалмады</span>
    </div>
    
    <div class="form-group">
      <label class="custom-file-upload">
        <span>Фотосурет жүктеу</span>
        {{ form.photo }}
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="12" cy="13" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </label>
      <span id="filename_photo">Файл таңдалмады</span>
    </div>
    
    <div class="form-group">
      <label class="custom-file-upload">
        <span>Қосымша құжаттар</span>
        {{ form.documents }}
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M13 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V9L13 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M13 2V9H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </label>
      <span id="filename_documents">Файл таңдалмады</span>
    </div>
  </div>

<p class="title_form">Келісім </p>
  <div class="form-group2">
    <label>{{ form.confirm_data }} <span>{{ form.confirm_data.label }} <span style="color:red">*</span></span></label>
    <label>{{ form.consent_personal_data }} <span>{{ form.consent_personal_data.label }} <span style="color:red">*</span></span></label>
    <label for="{{ form.consent_rules.id_for_label }}">
        {{ form.consent_rules }}
        <span>
          Мен Ассоциацияның
          <a href="{% static 'document/ustav_kz_1.pdf' %}" target="_blank">жарғысымен</a>
          танысып, оны сақтауға міндеттенемін. <span style="color:red">*</span>
        </span>
    </label>
  </div>

  <div class="soglasie">
    <p>Осы өтінімді толтыра отырып, сіз «PR ЖӘНЕ МЕДИА САЛАСЫНЫҢ КӘСІБИ МАМАНДАР АССОЦИАЦИЯСЫ» ҚОҒАМДЫҚ БІРЛЕСТІГІ тарапынан жеке деректеріңіздің жиналуына және өңделуіне Қазақстан Республикасының «Жеке деректер және оларды қорғау туралы» Заңына сәйкес келісім бересіз.
</p>
    <p>Сіздің жеке деректеріңіз тек өтінімді қарау, сізбен байланысу және Ассоциация қызметіне байланысты ақпаратты жолдау мақсатында пайдаланылады.
</p>
    <p>Ассоциация сіздің жеке деректеріңізді үшінші тұлғаларға сіздің жазбаша келісіміңізсіз бермейді, бұл Қазақстан Республикасының заңнамасында тікелей көзделген жағдайларды қоспағанда.
</p>
  </div>

  <button type="submit" id="submitBtn">ЖІБЕРУ</button>
</form>


  
  </div>
  
<div id="successMessage" style="display: none; color: white; text-align: center; padding: 20px;">
  <h3>Рақмет! </h3>
  <p>Өтініміңіз қабылданды. Сізбен 10 жұмыс күні ішінде хабарласамыз.</p>
</div>
  </div>
  </div>
  </div>

            {% elif lang == 'ru' %}
            <div class="vstuplenie" id="join">
    <div class="container">
        <p class="title_about">
            ВСТУПИТЬ В АССОЦИАЦИЮ
        </p>
        <div class="block_vstuplenie">
          
          <div id="applicationFormWrapper">
            
        <p class="description_about" >
            Заполняя эту анкету вы даете согласие на сбор и обработку данных. Руководство ассоциации вправе одобрять
            или не одобрять вашу кандидатуру на вступление в ассоциацию
        </p>
<form id="applicationForm" method="post" enctype="multipart/form-data">
  {% csrf_token %}

  <p class="title_form">Личные данные</p>
  <div class="form_vstup">
    <label><span>{{ form.last_name.label }} <span style="color:red">*</span></span>{{ form.last_name }}</label>
    <label><span>{{ form.first_name.label }} <span style="color:red">*</span></span>{{ form.first_name }}</label>
    <label><span>{{ form.middle_name.label }}</span>{{ form.middle_name }}</label>
    <label><span>{{ form.birth_date.label }} <span style="color:red">*</span></span>{{ form.birth_date }}</label>
    <label><span>{{ form.citizenship.label }} <span style="color:red">*</span></span>{{ form.citizenship }}</label>
    <label><span>{{ form.city.label }} <span style="color:red">*</span></span>{{ form.city }}</label>
  </div>

  <p class="title_form">Контактная информация</p>
  <div class="form_vstup">
    <label><span>{{ form.phone.label }} <span style="color:red">*</span></span>{{ form.phone }}</label>
    <label><span>{{ form.additional_phone.label }}</span>{{ form.additional_phone }}</label>
    <label><span>{{ form.email.label }} <span style="color:red">*</span></span>{{ form.email }}</label>
    <label><span>{{ form.social_links.label }} <span style="color:red">*</span></span>{{ form.social_links }}</label>
  </div>

  <p class="title_form">Образование</p>
  <div class="form_vstup">
    <label><span>{{ form.university.label }} <span style="color:red">*</span></span>{{ form.university }}</label>
    <label><span>{{ form.faculty.label }} <span style="color:red">*</span></span>{{ form.faculty }}</label>
    <label><span>{{ form.study_years.label }} <span style="color:red">*</span></span>{{ form.study_years }}</label>
    <label><span>{{ form.degree.label }} <span style="color:red">*</span></span>{{ form.degree }}</label>
  </div>

  <p class="title_form">Профессиональная деятельность</p>
  <div class="form_vstup">
    <label><span>{{ form.job_place.label }} <span style="color:red">*</span></span>{{ form.job_place }}</label>
    <label><span>{{ form.job_title.label }} <span style="color:red">*</span></span>{{ form.job_title }}</label>
    <label><span>{{ form.job_region.label }} <span style="color:red">*</span></span>{{ form.job_region }}</label>
    <label><span>{{ form.job_description.label }} <span style="color:red">*</span></span>{{ form.job_description }}</label>
    <label><span>{{ form.experience_years.label }} <span style="color:red">*</span></span>{{ form.experience_years }}</label>
    <label><span>{{ form.professional_description.label }} <span style="color:red">*</span></span>{{ form.professional_description }}</label>
  </div>

  <p class="title_form">Вступление в Ассоциацию</p>
  <div class="form_vstup">
    <label><span>{{ form.skills.label }}</span>{{ form.skills }}</label>
    <label><span>{{ form.awards.label }}</span>{{ form.awards }}</label>
    <label><span>{{ form.publications.label }}</span>{{ form.publications }}</label>
  </div>

  <p class="title_form">Мотивация и интересы</p>
  <div class="form_vstup">
    <label><span>{{ form.motivation.label }} <span style="color:red">*</span></span>{{ form.motivation }}</label>
    <label><span>{{ form.recommender.label }}</span>{{ form.recommender }}</label>
  </div>

  <div><br>
    <span>{{ form.interests.label }}</span>
    {{ form.interests }}
  </div>

 <p class="title_form">Файлы</p>
  <div class="file_forms">
    <div class="form-group">
      <label class="custom-file-upload">
        <span>Загрузить резюме / CV</span>
        {{ form.resume }}
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M14 2V8H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M16 13H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M16 17H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M10 9H9H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </label>
      <span id="filename_resume">Файл не выбран</span>
    </div>
    
    <div class="form-group">
      <label class="custom-file-upload">
        <span>Загрузить фотографию</span>
        {{ form.photo }}
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M23 19C23 19.5304 22.7893 20.0391 22.4142 20.4142C22.0391 20.7893 21.5304 21 21 21H3C2.46957 21 1.96086 20.7893 1.58579 20.4142C1.21071 20.0391 1 19.5304 1 19V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H7L9 3H15L17 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V19Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="12" cy="13" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </label>
      <span id="filename_photo">Файл не выбран</span>
    </div>
    
    <div class="form-group">
      <label class="custom-file-upload">
        <span>Дополнительные документы</span>
        {{ form.documents }}
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M13 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V9L13 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M13 2V9H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </label>
      <span id="filename_documents">Файл не выбран</span>
    </div>
  </div>

  <p class="title_form">Согласия</p>
  <div class="form-group2">
    <label>{{ form.confirm_data }} <span>{{ form.confirm_data.label }} <span style="color:red">*</span></span></label>
    <label>{{ form.consent_personal_data }} <span>{{ form.consent_personal_data.label }} <span style="color:red">*</span></span></label>
    <label for="{{ form.consent_rules.id_for_label }}">
        {{ form.consent_rules }}
        <span>
          Я ознакомлен(а) с
          <a href="/static/document/ustav_ru.pdf" target="_blank">уставом</a>
          Ассоциации и обязуюсь его соблюдать. <span style="color:red">*</span>
        </span>
    </label>

  </div>

  <div class="soglasie">
    <p>Заполняя данную заявку, вы подтверждаете своё согласие на сбор и обработку ваших персональных данных Общественным объединением «Ассоциация профессионалов PR и медиа» в соответствии с Законом Республики Казахстан «О персональных данных и их защите».
</p>
    <p>Ваши персональные данные будут использоваться исключительно в целях рассмотрения заявки, связи с вами и предоставления информации, связанной с деятельностью Ассоциации.
</p>
    <p>Мы обязуемся не передавать ваши персональные данные третьим лицам без вашего письменного согласия, за исключением случаев, предусмотренных законодательством Республики Казахстан.
</p>
  </div>

  <button type="submit" id="submitBtn">ОТПРАВИТЬ</button>
</form>


  </div>
  
<div id="successMessage" style="display: none; color: white; text-align: center; padding: 20px;">
  <h3>Благодарим!</h3>
  <p>  Ваша заявка получена. Мы свяжемся с вами в течение 10 рабочих дней</p>
</div>
  </div>
  </div>
  </div>

            {% endif %}


  <script>
    document.getElementById('filter-form').addEventListener('change', function(e) {
      const form = e.target.form;
      const params = new URLSearchParams(new FormData(form)).toString();
    
      fetch(window.location.pathname + '?' + params, {
        headers: {
          'X-Requested-With': 'XMLHttpRequest'
        }
      })
      .then(response => response.text())
      .then(html => {
        document.getElementById('specialist-container').innerHTML = html;
      });
    });
    </script>
    <script>
    // Добавить в конец существующего JavaScript
    document.addEventListener('DOMContentLoaded', function() {
      // Обработчики для отображения имен выбранных файлов
      function setupFileInput(inputId, displayId) {
        const input = document.getElementById(inputId);
        const display = document.getElementById(displayId);
        
        if (input && display) {
          input.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
              display.textContent = file.name;
            } else {
              display.textContent = 'Файл не выбран';
            }
          });
        }
      }
      
      // Настраиваем все файловые инпуты
      setupFileInput('id_resume', 'filename_resume');
      setupFileInput('id_photo', 'filename_photo');
      setupFileInput('id_documents', 'filename_documents');
    });

    // Улучшенная валидация файлов с автоопределением
function setupAdvancedFileInput(inputId, displayId, maxSize, fileType = 'файл') {
    const input = document.getElementById(inputId);
    const display = document.getElementById(displayId);
    
    if (input && display) {
        input.addEventListener('change', function(e) {
            const file = e.target.files[0];
            
            // Очищаем предыдущие ошибки
            display.classList.remove('file-error');
            display.style.color = '';
            
            if (file) {
                // Проверяем размер файла
                if (file.size > maxSize) {
                    const maxSizeMB = Math.round(maxSize / (1024*1024));
                    const fileSizeMB = (file.size / (1024*1024)).toFixed(1);
                    
                    let errorMessage = `Ошибка: Вы превысили объем ${fileType} ${maxSizeMB}МБ`;
                    if (fileType.toLowerCase() === 'фото') {
                        errorMessage = `Ошибка: Вы превысили объем фото ${maxSizeMB}МБ`;
                    }
                    
                    display.textContent = `${errorMessage} (текущий размер: ${fileSizeMB}МБ)`;
                    display.classList.add('file-error');
                    display.style.color = '#dc3545';
                    
                    // Показываем alert
                    alert(`${errorMessage}\nТекущий размер файла: ${fileSizeMB}МБ\nПожалуйста, выберите файл меньшего размера.`);
                    
                    // Очищаем поле
                    input.value = '';
                    
                    // Создаем видимую ошибку
                    showFileError(input, errorMessage);
                    
                    return;
                }
                
                // Дополнительная проверка типа файла для фото
                if (inputId === 'id_photo' && !file.type.startsWith('image/')) {
                    const errorMessage = 'Ошибка: Выберите изображение (JPG, PNG, GIF)';
                    display.textContent = errorMessage;
                    display.classList.add('file-error');
                    display.style.color = '#dc3545';
                    
                    alert(errorMessage);
                    input.value = '';
                    showFileError(input, errorMessage);
                    return;
                }
                
                // Файл подходит
                const fileSizeMB = (file.size / (1024*1024)).toFixed(1);
                display.textContent = `${file.name} (${fileSizeMB}МБ)`;
                display.style.color = '#28a745'; // Зеленый цвет для успеха
                
                // Удаляем ошибки
                removeFileError(input);
                
            } else {
                // Файл не выбран
                let placeholderText = 'Файл не выбран';
                if (inputId === 'id_photo') {
                    placeholderText = 'Фото не выбрано';
                } else if (inputId === 'id_resume') {
                    placeholderText = 'Резюме не выбрано';
                } else if (inputId === 'id_documents') {
                    placeholderText = 'Документы не выбраны';
                }
                
                display.textContent = placeholderText;
                display.style.color = '';
                removeFileError(input);
            }
        });
    }
}

// Функция для показа ошибки файла
function showFileError(input, errorMessage) {
    // Удаляем предыдущие ошибки
    removeFileError(input);
    
    // Создаем элемент ошибки
    const errorDiv = document.createElement('div');
    errorDiv.className = 'file-validation-error';
    errorDiv.style.cssText = `
        color: #dc3545;
        font-size: 14px;
        margin-top: 5px;
        padding: 8px;
        background: #f8d7da;
        border: 1px solid #f5c6cb;
        border-radius: 4px;
        animation: fadeIn 0.3s ease-in;
    `;
    errorDiv.textContent = errorMessage;
    
    // Вставляем после поля файла
    input.parentNode.insertBefore(errorDiv, input.nextSibling);
    
    // Добавляем красную рамку к полю
    input.style.borderColor = '#dc3545';
}

// Функция для удаления ошибки файла
function removeFileError(input) {
    // Удаляем элемент ошибки
    const errorDiv = input.parentNode.querySelector('.file-validation-error');
    if (errorDiv) {
        errorDiv.remove();
    }
    
    // Убираем красную рамку
    input.style.borderColor = '';
}

// Функция для форматирования размера файла
function formatFileSize(bytes) {
    if (bytes === 0) return '0 Байт';
    
    const k = 1024;
    const sizes = ['Байт', 'КБ', 'МБ', 'ГБ'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    
    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
}

// Улучшенная функция drag & drop для файлов
function setupFileDragDrop(inputId, maxSize, fileType) {
    const input = document.getElementById(inputId);
    if (!input) return;
    
    const container = input.closest('.form-group');
    if (!container) return;
    
    // Добавляем стили для drag & drop
    container.style.position = 'relative';
    
    const overlay = document.createElement('div');
    overlay.className = 'drag-overlay';
    overlay.style.cssText = `
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 123, 255, 0.1);
        border: 2px dashed #007bff;
        border-radius: 8px;
        display: none;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        color: #007bff;
        z-index: 10;
    `;
    overlay.textContent = `Отпустите ${fileType} здесь`;
    container.appendChild(overlay);
    
    // События drag & drop
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
        container.addEventListener(eventName, preventDefaults, false);
    });
    
    function preventDefaults(e) {
        e.preventDefault();
        e.stopPropagation();
    }
    
    ['dragenter', 'dragover'].forEach(eventName => {
        container.addEventListener(eventName, highlight, false);
    });
    
    ['dragleave', 'drop'].forEach(eventName => {
        container.addEventListener(eventName, unhighlight, false);
    });
    
    function highlight() {
        overlay.style.display = 'flex';
    }
    
    function unhighlight() {
        overlay.style.display = 'none';
    }
    
    container.addEventListener('drop', handleDrop, false);
    
    function handleDrop(e) {
        const dt = e.dataTransfer;
        const files = dt.files;
        
        if (files.length > 0) {
            const file = files[0];
            
            // Проверяем размер
            if (file.size > maxSize) {
                const maxSizeMB = Math.round(maxSize / (1024*1024));
                const fileSizeMB = (file.size / (1024*1024)).toFixed(1);
                
                alert(`Файл слишком большой!\nМаксимальный размер: ${maxSizeMB}МБ\nРазмер вашего файла: ${fileSizeMB}МБ`);
                return;
            }
            
            // Устанавливаем файл
            input.files = files;
            
            // Вызываем событие change
            const event = new Event('change', { bubbles: true });
            input.dispatchEvent(event);
        }
    }
}

// Инициализация при загрузке DOM
document.addEventListener('DOMContentLoaded', function() {
    // Настраиваем валидацию файлов с конкретными ограничениями
    setupAdvancedFileInput('id_resume', 'filename_resume', 10 * 1024 * 1024, 'файла'); // 10MB
    setupAdvancedFileInput('id_photo', 'filename_photo', 5 * 1024 * 1024, 'фото'); // 5MB  
    setupAdvancedFileInput('id_documents', 'filename_documents', 10 * 1024 * 1024, 'файла'); // 10MB
    
    // Добавляем drag & drop
    setupFileDragDrop('id_resume', 10 * 1024 * 1024, 'резюме');
    setupFileDragDrop('id_photo', 5 * 1024 * 1024, 'фото');
    setupFileDragDrop('id_documents', 10 * 1024 * 1024, 'документы');
    
    // Добавляем индикатор прогресса для больших файлов
    addProgressIndicator();
});

// Функция для добавления индикатора прогресса
function addProgressIndicator() {
    const fileInputs = ['id_resume', 'id_photo', 'id_documents'];
    
    fileInputs.forEach(inputId => {
        const input = document.getElementById(inputId);
        if (input) {
            input.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file && file.size > 1024 * 1024) { // Файлы больше 1MB
                    showProcessingIndicator(input);
                    
                    // Имитируем обработку файла
                    setTimeout(() => {
                        hideProcessingIndicator(input);
                    }, 1000);
                }
            });
        }
    });
}

function showProcessingIndicator(input) {
    let indicator = input.parentNode.querySelector('.processing-indicator');
    if (!indicator) {
        indicator = document.createElement('div');
        indicator.className = 'processing-indicator';
        indicator.style.cssText = `
            color: #007bff;
            font-size: 12px;
            margin-top: 5px;
            display: flex;
            align-items: center;
        `;
        indicator.innerHTML = `
            <div style="width: 12px; height: 12px; border: 2px solid #007bff; border-top: 2px solid transparent; border-radius: 50%; animation: spin 1s linear infinite; margin-right: 5px;"></div>
            Обработка файла...
        `;
        input.parentNode.appendChild(indicator);
    }
    indicator.style.display = 'flex';
}

function hideProcessingIndicator(input) {
    const indicator = input.parentNode.querySelector('.processing-indicator');
    if (indicator) {
        indicator.style.display = 'none';
    }
}

    </script>


    {% include 'footer.html' %}